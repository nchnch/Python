(function(a){a.fn.custSelectBox=function(m){var d="selectbox";var k="."+d;var l=".selectboxoptions_wrap";var f="hideitem";var h="selected";var j="selectboxopen";var c="selectboxfoot";var e="."+c;var i=".elmValue";var g={isscrolling:true,scrollminitems:15,scrollheight:150,preopenselect:true,hoverstyle:"hover",openspeed:"normal",alldisabled:false,selectwidth:"auto",wrappername:".select_wrap"};var b=a.extend(g,m);return this.each(function(){a.fn.disable=function(A){for(var B=0;B<a(A).find("ul").find("li").length;B++){if(a(a(A).find("ul").find("li").get(B)).hasClass(h)){a(a(A).find("ul").find("li").get(B)).addClass("selected_disable")}a(a(A).find("ul").find("li").get(B)).unbind();a(a(A).find("ul").get(B)).find("input").attr("disabled","disabled")}};a.fn.addformelms=function(A){var G=a(A);var C=a(A).find(l+" ul").attr("class");if(C.indexOf("selectboxoptions_radio")>-1){var E=a(G).find("."+h+" span").text();a(G).find(l).append('<input type="hidden" id="'+a(r).attr("id")+'" name="'+a(r).attr("name")+'" value="'+E+'">')}else{for(var D=0;D<a(G).find(l+" li").length;D++){var B=a(G).find(l+" li").get(D);a(B).append('<input type="hidden" id="'+a(r).attr("id")+"_"+D+'" name="'+a(r).attr("name")+"_"+D+'" value="">');if(a(B).hasClass(h)){var F=a(B).find("span").text();a(a(G).find(l+" li").get(D)).find("input").val(F)}}}};a.fn.openSelectBoxsThatArePrePopulated=function(B){var A=a(B).find(l+" ul").attr("class");if(a(k).parent().find("."+A).find("li").hasClass(h)){a(k).addClass(j);a(k).parent().find(l).slideDown("normal");a(k).parent().find("."+A).find("li").addClass(f)}};a.fn.scrolling=function(B,A){if(A){if(a(B).parent().find(l+" ul li").length>=b.scrollminitems){a(B).parent().find(l+" ul").css("height",b.scrollheight).addClass("setScroll")}}else{a(B).parent().find(l+" ul").css("height","auto").removeClass("setScroll")}};var r=a(this);var n=a(r).parent();var o="";var v=a(r).find("option");var q="";var z=a(r).attr("disabled");var w=a(r).attr("multiple");var x="selectboxoptions_radio";var t="";if(w){x="selectboxoptions_check"}if(z){t="disabled"}for(var u=0;u<v.length;u++){var y="";var s=a(v).get(u);if(u===0){o=a(s).text()}else{if(a(s).attr("selected")){y="selected"}q=q+'<li class="'+y+" "+t+'"><span class="elmValue">'+a(s).val()+"</span>"+a(s).text()+"</li>"}}a(n).empty().html('<div class="selectbox"><ul><li>'+o+'</li></ul></div><div class="selectboxoptions_wrap"><ul class="'+x+'">'+q+"</ul></div>");a(n).find(l+" ul").after('<div class="'+c+'"><div></div></div>');if("auto"!=b.selectwidth){a(n).find(k+" ul").css({width:b.selectwidth});a(n).find(l+" ul").attr("class",x).css({width:(b.selectwidth+57)+"px"});a(n).find(e+" div").css({width:b.selectwidth+"px"})}else{a(n).find(l+" ul").attr("class",x).css({width:(a(n).find(k+" ul").width()+57)+"px"});a(n).find(e+" div").css({width:a(n).find(k+" ul").width()+"px"})}if(z){a.fn.disable(a(n).find(l))}var p=a(b.wrappername);a(l+" ul li").unbind().click(function(){if(a(this).attr("class").indexOf("disabled")<0){var B;var A=a(this).parent().attr("class");if(A.indexOf("selectboxoptions_radio")>-1){if(!a(this).hasClass(h)){B=a(this).find(i).text();a(this).parent().find("."+h).removeClass(h);a(this).addClass(h);a(this).parent().parent().find("input").val(a(this).find(i).text())}else{a(this).parent().find("."+h).removeClass(h);a(this).parent().parent().find("input").val("")}}else{if(a(this).hasClass(h)){a(this).removeClass(h);a(this).find("input").val("")}else{B=a(this).find(i).text();a(this).addClass(h);a(this).find("input").val(B)}}}}).hover(function(){a(this).addClass(b.hoverstyle)},function(){a(this).removeClass(b.hoverstyle)});a(p).find(k).unbind().toggle(function(){if(b.isscrolling){a.fn.scrolling(a(this),true)}a(this).parent().find(l+" ul li").removeClass(f);a(this).removeClass(d).addClass(j);a(this).parent().find(l).slideDown(b.openspeed)},function(){var A=a(this).parent().find(l+" ul").attr("class");if(a(this).parent().find(l+" ul li").hasClass(h)){a(this).parent().find(l+" ul li").addClass(f)}else{a(this).removeClass(j).addClass(d);a(this).parent().find(l).slideUp("normal")}if(b.isscrolling){a.fn.scrolling(a(this),false)}});a.fn.addformelms(a(n));if(b.preopenselect){a.fn.openSelectBoxsThatArePrePopulated(a(n))}if(b.alldisabled){a.fn.disable(a(p))}})}})(jQuery);